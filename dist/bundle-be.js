!function(e){function r(e){var r=require("./"+e+"."+o+".hot-update.js");!function(e,r){if(!b[e]||!g[e])return;for(var t in g[e]=!1,r)Object.prototype.hasOwnProperty.call(r,t)&&(f[t]=r[t]);0==--y&&0===m&&E()}(r.id,r.modules)}var t,n=!0,o="53044c5143cf53b87eb9",s={},i=[],c=[];function a(e){var r=A[e];if(!r)return I;var n=function(n){return r.hot.active?(A[n]?-1===A[n].parents.indexOf(e)&&A[n].parents.push(e):(i=[e],t=n),-1===r.children.indexOf(n)&&r.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),i=[]),I(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(r){I[e]=r}}};for(var s in I)Object.prototype.hasOwnProperty.call(I,s)&&"e"!==s&&"t"!==s&&Object.defineProperty(n,s,o(s));return n.e=function(e){return"ready"===l&&u("prepare"),m++,I.e(e).then(r,function(e){throw r(),e});function r(){m--,"prepare"===l&&(w[e]||_(e),0===m&&0===y&&E())}},n.t=function(e,r){return 1&r&&(e=n(e)),I.t(e,-2&r)},n}var d=[],l="idle";function u(e){l=e;for(var r=0;r<d.length;r++)d[r].call(null,e)}var p,f,h,v,y=0,m=0,w={},g={},b={};function x(e){return+e+""===e?+e:e}function O(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return n=e,u("check"),function(){try{var e=require("./"+o+".hot-update.json")}catch(e){return Promise.resolve()}return Promise.resolve(e)}().then(function(e){if(!e)return u(P()?"ready":"idle"),null;g={},w={},b=e.c,h=e.h,u("prepare");var r=new Promise(function(e,r){p={resolve:e,reject:r}});f={};return _(0),"prepare"===l&&0===m&&0===y&&E(),r})}function _(e){b[e]?(g[e]=!0,y++,r(e)):w[e]=!0}function E(){u("ready");var e=p;if(p=null,e)if(n)Promise.resolve().then(function(){return j(n)}).then(function(r){e.resolve(r)},function(r){e.reject(r)});else{var r=[];for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&r.push(x(t));e.resolve(r)}}function j(r){if("ready"!==l)throw new Error("apply() is only allowed in ready status");return function r(n){P();var c;var a;var d;var l;var p;function y(e){for(var r=[e],t={},n=r.map(function(e){return{chain:[e],id:e}});n.length>0;){var o=n.pop(),s=o.id,i=o.chain;if((l=A[s])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:s};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:s};for(var c=0;c<l.parents.length;c++){var a=l.parents[c],d=A[a];if(d){if(d.hot._declinedDependencies[s])return{type:"declined",chain:i.concat([a]),moduleId:s,parentId:a};-1===r.indexOf(a)&&(d.hot._acceptedDependencies[s]?(t[a]||(t[a]=[]),m(t[a],[s])):(delete t[a],r.push(a),n.push({chain:i.concat([a]),id:a})))}}}}return{type:"accepted",moduleId:e,outdatedModules:r,outdatedDependencies:t}}function m(e,r){for(var t=0;t<r.length;t++){var n=r[t];-1===e.indexOf(n)&&e.push(n)}}var w={};var g=[];var O={};var _=function(){console.warn("[HMR] unexpected require("+j.moduleId+") to disposed module")};for(var E in f)if(Object.prototype.hasOwnProperty.call(f,E)){var j;p=x(E);var D=!1,k=!1,q=!1,H="";switch((j=f[E]?y(p):{type:"disposed",moduleId:E}).chain&&(H="\nUpdate propagation: "+j.chain.join(" -> ")),j.type){case"self-declined":n.onDeclined&&n.onDeclined(j),n.ignoreDeclined||(D=new Error("Aborted because of self decline: "+j.moduleId+H));break;case"declined":n.onDeclined&&n.onDeclined(j),n.ignoreDeclined||(D=new Error("Aborted because of declined dependency: "+j.moduleId+" in "+j.parentId+H));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(j),n.ignoreUnaccepted||(D=new Error("Aborted because "+p+" is not accepted"+H));break;case"accepted":n.onAccepted&&n.onAccepted(j),k=!0;break;case"disposed":n.onDisposed&&n.onDisposed(j),q=!0;break;default:throw new Error("Unexception type "+j.type)}if(D)return u("abort"),Promise.reject(D);if(k)for(p in O[p]=f[p],m(g,j.outdatedModules),j.outdatedDependencies)Object.prototype.hasOwnProperty.call(j.outdatedDependencies,p)&&(w[p]||(w[p]=[]),m(w[p],j.outdatedDependencies[p]));q&&(m(g,[j.moduleId]),O[p]=_)}var S=[];for(a=0;a<g.length;a++)p=g[a],A[p]&&A[p].hot._selfAccepted&&O[p]!==_&&!A[p].hot._selfInvalidated&&S.push({module:p,parents:A[p].parents.slice(),errorHandler:A[p].hot._selfAccepted});u("dispose");Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});var C;var R=g.slice();for(;R.length>0;)if(p=R.pop(),l=A[p]){var T={},M=l.hot._disposeHandlers;for(d=0;d<M.length;d++)(c=M[d])(T);for(s[p]=T,l.hot.active=!1,delete A[p],delete w[p],d=0;d<l.children.length;d++){var U=A[l.children[d]];U&&((C=U.parents.indexOf(p))>=0&&U.parents.splice(C,1))}}var L;var N;for(p in w)if(Object.prototype.hasOwnProperty.call(w,p)&&(l=A[p]))for(N=w[p],d=0;d<N.length;d++)L=N[d],(C=l.children.indexOf(L))>=0&&l.children.splice(C,1);u("apply");void 0!==h&&(o=h,h=void 0);f=void 0;for(p in O)Object.prototype.hasOwnProperty.call(O,p)&&(e[p]=O[p]);var G=null;for(p in w)if(Object.prototype.hasOwnProperty.call(w,p)&&(l=A[p])){N=w[p];var J=[];for(a=0;a<N.length;a++)if(L=N[a],c=l.hot._acceptedDependencies[L]){if(-1!==J.indexOf(c))continue;J.push(c)}for(a=0;a<J.length;a++){c=J[a];try{c(N)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:p,dependencyId:N[a],error:e}),n.ignoreErrored||G||(G=e)}}}for(a=0;a<S.length;a++){var $=S[a];p=$.module,i=$.parents,t=p;try{I(p)}catch(e){if("function"==typeof $.errorHandler)try{$.errorHandler(e)}catch(r){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:r,originalError:e}),n.ignoreErrored||G||(G=r),G||(G=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:p,error:e}),n.ignoreErrored||G||(G=e)}}if(G)return u("fail"),Promise.reject(G);if(v)return r(n).then(function(e){return g.forEach(function(r){e.indexOf(r)<0&&e.push(r)}),e});u("idle");return new Promise(function(e){e(g)})}(r=r||{})}function P(){if(v)return f||(f={}),v.forEach(D),v=void 0,!0}function D(r){Object.prototype.hasOwnProperty.call(f,r)||(f[r]=e[r])}var A={};function I(r){if(A[r])return A[r].exports;var n=A[r]={i:r,l:!1,exports:{},hot:function(r){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:t!==r,active:!0,accept:function(e,r){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._acceptedDependencies[e[t]]=r||function(){};else n._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._declinedDependencies[e[r]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=n._disposeHandlers.indexOf(e);r>=0&&n._disposeHandlers.splice(r,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":(f={})[r]=e[r],u("ready");break;case"ready":D(r);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(r)}},check:O,apply:j,status:function(e){if(!e)return l;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var r=d.indexOf(e);r>=0&&d.splice(r,1)},data:s[r]};return t=void 0,n}(r),parents:(c=i,i=[],c),children:[]};return e[r].call(n.exports,n,n.exports,a(r)),n.l=!0,n.exports}I.m=e,I.c=A,I.d=function(e,r,t){I.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},I.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},I.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(r,"a",r),r},I.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},I.p="/Users/muhammadhutaib/Documents/GitHub/login/dist",I.w={},I.h=function(){return o},a(13)(I.s=13)}([function(e,r){e.exports=require("mariadb")},function(e,r){e.exports=require("password-hash")},function(e,r){e.exports=require("jsonwebtoken")},function(e,r){e.exports=require("passport-jwt")},function(e,r){e.exports=require("passport")},function(e,r){e.exports=require("body-parser")},function(e,r){e.exports=require("morgan")},function(e,r){e.exports=require("express")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(7),o=t(6),s=t(5),i=t(4),c=t(3),a=t(2),d=t(1);let l=t(0);r.default=(new class{constructor(){this.jwtOptions={},this.ExtractJwt=c.ExtractJwt,this.JwtStrategy=c.ExtractJwt,this.newdata=[],this.jwtOptions.jwtFromRequest=this.ExtractJwt.fromAuthHeaderAsBearerToken(),this.jwtOptions.secretOrKey="SECRET",this.connectionString={host:"localhost",user:"root",password:"gymhw6xf",database:"LOGIN",connectionLimit:5,port:"3306",ssl:!1,allowPublicKeyRetrieval:!0},this.pool=l.createPool(this.connectionString),console.log(this.connectionString),this.express=n(),this.middleware(),this.routes()}ensureToken(e,r,t){const n=e.headers.authorization;if(void 0!==n){const r=n.split(" ")[1];e.token=r,t()}else r.sendStatus(403)}middleware(){this.express.use(function(e,r,t){r.header("Access-Control-Allow-Origin","*"),r.header("Access-Control-Allow-Headers","X-Requested-With,content-type"),r.header("Access-Control-Allow-Methods","GET, POST, OPTIONS, PUT, PATCH, DELETE"),t()}),this.express.use(o("dev")),this.express.use(s.json()),this.express.use(i.initialize()),this.express.use(s.urlencoded({extended:!1}))}routes(){let e=n.Router();e.post("/login",(e,r,t)=>{this.pool.getConnection().then(t=>{t.query("SELECT * FROM LOGIN.login WHERE username=?",[e.body.username]).then(n=>{const o=Array.isArray(n)?n.slice(0,-1):n;console.log(o,"data"),0==n.length?(t.end(),r.status(401).json({message:"Please signup, no email exists"})):d.verify(e.body.password,n[0].password)?(t.end(),console.log("SECRET"),n={data:n},r.json({sucessful:!0,token:a.sign(n,"SECRET")})):(t.end(),r.status(401).json({message:"Password/Email did not match"}))}).catch(e=>{t.end(),e&&(r.status(404).json({err:e}),console.log(e))})}).catch(e=>{e&&(r.status(404).json({err:e}),console.log(e))})}),e.post("/createUser",(e,r,t)=>{this.newdata=[],this.pool.getConnection().then(t=>{t.query("insert into LOGIN.login (last_name, first_name, email_address, password, username) VALUES (?, ?, ?, ?, ?)",[e.body.last_name,e.body.first_name,e.body.email_address,d.generate(e.body.password),e.body.username]).then(e=>{t.end(),r.json({message:"sucessful"})}).catch(e=>{t.end(),e&&r.status(404).json({err:e})})}).catch(e=>{e&&r.status(404).json({err:e})})}),e.get("/healthz",(e,r,t)=>{r.send("success")}),this.express.use("/",e)}}).express},function(e,r){e.exports=require("debug")},function(e,r){e.exports=require("http")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(10),o=t(9),s=t(8);o("ts-express:server");const i=function(e){let r="string"==typeof e?parseInt(e,10):e;return isNaN(r)?e:r>=0&&r}(3004);s.default.set("port",i);const c=n.createServer(s.default);c.listen(i),c.on("error",function(e){if("listen"!==e.syscall)throw e;let r="string"==typeof i?"Pipe "+i:"Port "+i;switch(e.code){case"EACCES":console.error(`${r} requires elevated privileges`),process.exit(1);break;case"EADDRINUSE":console.error(`${r} is already in use`),process.exit(1);break;default:throw e}}),c.on("listening",function(){let e=c.address(),r="string"==typeof e?`pipe ${e}`:`port ${e.port}`;o(`Listening on ${r}`)})},function(e,r){e.exports=require("@babel/polyfill")},function(e,r,t){t(12),e.exports=t(11)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWFyaWFkYlwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhc3N3b3JkLWhhc2hcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydC1qd3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJvZHktcGFyc2VyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9yZ2FuXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzc1wiIiwid2VicGFjazovLy8uL3NyYy9BcHAudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZGVidWdcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGJhYmVsL3BvbHlmaWxsXCIiXSwibmFtZXMiOlsiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImNodW5rSWQiLCJjaHVuayIsInJlcXVpcmUiLCJob3RDdXJyZW50SGFzaCIsIm1vcmVNb2R1bGVzIiwiaG90QXZhaWxhYmxlRmlsZXNNYXAiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsIm1vZHVsZUlkIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaG90VXBkYXRlIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJob3RBZGRVcGRhdGVDaHVuayIsImlkIiwibW9kdWxlcyIsImhvdEN1cnJlbnRDaGlsZE1vZHVsZSIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJ0IiwibW9kZSIsImhvdFN0YXR1c0hhbmRsZXJzIiwibmV3U3RhdHVzIiwiaSIsImxlbmd0aCIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsImhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcyIsInRvTW9kdWxlSWQiLCJob3RDaGVjayIsImFwcGx5IiwiRXJyb3IiLCJ1cGRhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImhvdERvd25sb2FkTWFuaWZlc3QiLCJob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcyIsImMiLCJoIiwicHJvbWlzZSIsInJlamVjdCIsImRlZmVycmVkIiwiaG90QXBwbHkiLCJyZXN1bHQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiaG90QXBwbHlJbnRlcm5hbCIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJtYXAiLCJjaGFpbiIsInF1ZXVlSXRlbSIsInBvcCIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkludmFsaWRhdGVkIiwiX3NlbGZEZWNsaW5lZCIsInR5cGUiLCJfbWFpbiIsInBhcmVudElkIiwicGFyZW50IiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiY29uY2F0IiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwic2xpY2UiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImluc3RhbGxlZENodW5rcyIsImhvdERpc3Bvc2VDaHVuayIsImlkeCIsImRhdGEiLCJkaXNwb3NlSGFuZGxlcnMiLCJfZGlzcG9zZUhhbmRsZXJzIiwiY2hpbGQiLCJzcGxpY2UiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJ1bmRlZmluZWQiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImxpc3QiLCJob3RBcHBseUludmFsaWRhdGVkTW9kdWxlIiwiZXhwb3J0cyIsImwiLCJhY2NlcHQiLCJkZXAiLCJjYWxsYmFjayIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImludmFsaWRhdGUiLCJ0aGlzIiwiY2hlY2siLCJzdGF0dXMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImhvdENyZWF0ZU1vZHVsZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsInciLCJzIiwiZXhwcmVzcyIsImxvZ2dlciIsImJvZHlQYXJzZXIiLCJwYXNzcG9ydCIsInBhc3Nwb3J0SldUIiwiand0IiwicGFzc3dvcmRoYXNoIiwibWFyaWFkYiIsImRlZmF1bHQiLCJbb2JqZWN0IE9iamVjdF0iLCJqd3RPcHRpb25zIiwiRXh0cmFjdEp3dCIsIkp3dFN0cmF0ZWd5IiwibmV3ZGF0YSIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJjb25uZWN0aW9uU3RyaW5nIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiY29ubmVjdGlvbkxpbWl0IiwicG9ydCIsInNzbCIsImFsbG93UHVibGljS2V5UmV0cmlldmFsIiwicG9vbCIsImNyZWF0ZVBvb2wiLCJsb2ciLCJtaWRkbGV3YXJlIiwicm91dGVzIiwicmVxIiwicmVzIiwibmV4dCIsImJlYXJlckhlYWRlciIsImhlYWRlcnMiLCJiZWFyZXJUb2tlbiIsInNwbGl0IiwidG9rZW4iLCJzZW5kU3RhdHVzIiwidXNlIiwiaGVhZGVyIiwianNvbiIsImluaXRpYWxpemUiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0Q29ubmVjdGlvbiIsImNvbm4iLCJxdWVyeSIsImJvZHkiLCJ1c2VybmFtZSIsImNsZWFuUm93cyIsIkFycmF5IiwiaXNBcnJheSIsImVuZCIsIm1lc3NhZ2UiLCJ2ZXJpZnkiLCJzdWNlc3NmdWwiLCJzaWduIiwiY2F0Y2giLCJsYXN0X25hbWUiLCJmaXJzdF9uYW1lIiwiZW1haWxfYWRkcmVzcyIsImdlbmVyYXRlIiwic2VuZCIsImh0dHAiLCJkZWJ1ZyIsIkFwcF8xIiwidmFsIiwicGFyc2VJbnQiLCJpc05hTiIsIm5vcm1hbGl6ZVBvcnQiLCJzZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJvbiIsInN5c2NhbGwiLCJiaW5kIiwiY29kZSIsInByb2Nlc3MiLCJleGl0IiwiYWRkciIs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QUMsU0FBQUQsRUFBQSxJQUFBQSxFQUNBLE9BQUFFLE1BQUFsRCxHQUNBZ0QsRUFDQWhELEdBQUEsR0FDQUEsRUFYQW1ELENBQUEsTUFDQUosRUFBQTlELFFBQUExSSxJQUFBLE9BQUF5SixHQUNBLE1BQUFvRCxFQUFBUCxFQUFBUSxhQUFBTixFQUFBOUQsU0FDQW1FLEVBQUFFLE9BQUF0RCxHQUNBb0QsRUFBQUcsR0FBQSxRQVdBLFNBQUFuSCxHQUNBLGNBQUFBLEVBQUFvSCxRQUNBLE1BQUFwSCxFQUNBLElBQUFxSCxFQUFBLGlCQUFBekQsRUFBQSxRQUFBQSxFQUFBLFFBQUFBLEVBQ0EsT0FBQTVELEVBQUFzSCxNQUNBLGFBQ0ExTixRQUFBb0csU0FBNkJxSCxrQ0FDN0JFLFFBQUFDLEtBQUEsR0FDQSxNQUNBLGlCQUNBNU4sUUFBQW9HLFNBQTZCcUgsdUJBQzdCRSxRQUFBQyxLQUFBLEdBQ0EsTUFDQSxRQUNBLE1BQUF4SCxLQXhCQWdILEVBQUFHLEdBQUEsWUEyQkEsV0FDQSxJQUFBTSxFQUFBVCxFQUFBVSxVQUNBTCxFQUFBLGlCQUFBSSxVQUFvREEsWUFBaUJBLEVBQUE3RCxPQUNyRThDLGtCQUEwQlcsc0JDekMxQnpLLEVBQUE2RCxRQUFBL0ksUUFBQSIsImZpbGUiOiJidW5kbGUtYmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgY2h1bmsgPSByZXF1aXJlKFwiLi9cIiArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIik7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rLmlkLCBjaHVuay5tb2R1bGVzKTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KCkge1xuIFx0XHR0cnkge1xuIFx0XHRcdHZhciB1cGRhdGUgPSByZXF1aXJlKFwiLi9cIiArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiKTtcbiBcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiBcdFx0fVxuIFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVwZGF0ZSk7XG4gXHR9XG5cbiBcdC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiNTMwNDRjNTE0M2NmNTNiODdlYjlcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZJbnZhbGlkYXRlZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGludmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0dGhpcy5fc2VsZkludmFsaWRhdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdHN3aXRjaCAoaG90U3RhdHVzKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJpZGxlXCI6XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwicmVhZHlcIjpcbiBcdFx0XHRcdFx0XHRob3RBcHBseUludmFsaWRhdGVkTW9kdWxlKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInByZXBhcmVcIjpcbiBcdFx0XHRcdFx0Y2FzZSBcImNoZWNrXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJhcHBseVwiOlxuIFx0XHRcdFx0XHRcdChob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPVxuIFx0XHRcdFx0XHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzIHx8IFtdKS5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHQvLyBpZ25vcmUgcmVxdWVzdHMgaW4gZXJyb3Igc3RhdGVzXG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2gsIGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcztcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcygpID8gXCJyZWFkeVwiIDogXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gXHRcdHJldHVybiBob3RBcHBseUludGVybmFsKG9wdGlvbnMpO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseUludGVybmFsKG9wdGlvbnMpIHtcbiBcdFx0aG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMoKTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHQhbW9kdWxlIHx8XG4gXHRcdFx0XHRcdChtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQgJiYgIW1vZHVsZS5ob3QuX3NlbGZJbnZhbGlkYXRlZClcbiBcdFx0XHRcdClcbiBcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZCAmJlxuIFx0XHRcdFx0Ly8gcmVtb3ZlZCBzZWxmLWFjY2VwdGVkIG1vZHVsZXMgc2hvdWxkIG5vdCBiZSByZXF1aXJlZFxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZSAmJlxuIFx0XHRcdFx0Ly8gd2hlbiBjYWxsZWQgaW52YWxpZGF0ZSBzZWxmLWFjY2VwdGluZyBpcyBub3QgcG9zc2libGVcbiBcdFx0XHRcdCFpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZJbnZhbGlkYXRlZFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRwYXJlbnRzOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5wYXJlbnRzLnNsaWNlKCksXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGlmIChob3RVcGRhdGVOZXdIYXNoICE9PSB1bmRlZmluZWQpIHtcbiBcdFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVuZGVmaW5lZDtcbiBcdFx0fVxuIFx0XHRob3RVcGRhdGUgPSB1bmRlZmluZWQ7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IGl0ZW0ucGFyZW50cztcbiBcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSBtb2R1bGVJZDtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aWYgKGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcykge1xuIFx0XHRcdHJldHVybiBob3RBcHBseUludGVybmFsKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24obGlzdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLmZvckVhY2goZnVuY3Rpb24obW9kdWxlSWQpIHtcbiBcdFx0XHRcdFx0aWYgKGxpc3QuaW5kZXhPZihtb2R1bGVJZCkgPCAwKSBsaXN0LnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRyZXR1cm4gbGlzdDtcbiBcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMoKSB7XG4gXHRcdGlmIChob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoIWhvdFVwZGF0ZSkgaG90VXBkYXRlID0ge307XG4gXHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzLmZvckVhY2goaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZSk7XG4gXHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzID0gdW5kZWZpbmVkO1xuIFx0XHRcdHJldHVybiB0cnVlO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5SW52YWxpZGF0ZWRNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBtb2R1bGVJZCkpXG4gXHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIHdhc20gbW9kdWxlc1xuIFx0dmFyIGluc3RhbGxlZFdhc21Nb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvVXNlcnMvbXVoYW1tYWRodXRhaWIvRG9jdW1lbnRzL0dpdEh1Yi9sb2dpbi9kaXN0XCI7XG5cbiBcdC8vIG9iamVjdCB3aXRoIGFsbCBjb21waWxlZCBXZWJBc3NlbWJseS5Nb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLncgPSB7fTtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDEzKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYXJpYWRiXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3N3b3JkLWhhc2hcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0LWp3dFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb3JnYW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuY29uc3QgcGFzc3BvcnQgPSByZXF1aXJlKFwicGFzc3BvcnRcIik7XG5jb25zdCBwYXNzcG9ydEpXVCA9IHJlcXVpcmUoXCJwYXNzcG9ydC1qd3RcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuY29uc3QgcGFzc3dvcmRoYXNoID0gcmVxdWlyZShcInBhc3N3b3JkLWhhc2hcIik7XG5sZXQgbWFyaWFkYiA9IHJlcXVpcmUoXCJtYXJpYWRiXCIpO1xuY2xhc3MgQXBwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5qd3RPcHRpb25zID0ge307XG4gICAgICAgIHRoaXMuRXh0cmFjdEp3dCA9IHBhc3Nwb3J0SldULkV4dHJhY3RKd3Q7XG4gICAgICAgIHRoaXMuSnd0U3RyYXRlZ3kgPSBwYXNzcG9ydEpXVC5FeHRyYWN0Snd0O1xuICAgICAgICB0aGlzLm5ld2RhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5qd3RPcHRpb25zLmp3dEZyb21SZXF1ZXN0ID0gdGhpcy5FeHRyYWN0Snd0LmZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbigpO1xuICAgICAgICB0aGlzLmp3dE9wdGlvbnMuc2VjcmV0T3JLZXkgPSBcIlNFQ1JFVFwiO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdHJpbmcgPSB7XG4gICAgICAgICAgICBob3N0OiBcImxvY2FsaG9zdFwiLFxuICAgICAgICAgICAgdXNlcjogXCJyb290XCIsXG4gICAgICAgICAgICBwYXNzd29yZDogXCJneW1odzZ4ZlwiLFxuICAgICAgICAgICAgZGF0YWJhc2U6IFwiTE9HSU5cIixcbiAgICAgICAgICAgIGNvbm5lY3Rpb25MaW1pdDogNSxcbiAgICAgICAgICAgIHBvcnQ6IFwiMzMwNlwiLFxuICAgICAgICAgICAgc3NsOiBmYWxzZSxcbiAgICAgICAgICAgIGFsbG93UHVibGljS2V5UmV0cmlldmFsOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucG9vbCA9IG1hcmlhZGIuY3JlYXRlUG9vbCh0aGlzLmNvbm5lY3Rpb25TdHJpbmcpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbm5lY3Rpb25TdHJpbmcpO1xuICAgICAgICB0aGlzLmV4cHJlc3MgPSBleHByZXNzKCk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZSgpO1xuICAgICAgICB0aGlzLnJvdXRlcygpO1xuICAgIH1cbiAgICBlbnN1cmVUb2tlbihyZXEsIHJlcywgbmV4dCkge1xuICAgICAgICBjb25zdCBiZWFyZXJIZWFkZXIgPSByZXEuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl07XG4gICAgICAgIGlmICh0eXBlb2YgYmVhcmVySGVhZGVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBiZWFyZXIgPSBiZWFyZXJIZWFkZXIuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgY29uc3QgYmVhcmVyVG9rZW4gPSBiZWFyZXJbMV07XG4gICAgICAgICAgICByZXEudG9rZW4gPSBiZWFyZXJUb2tlbjtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwMyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWlkZGxld2FyZSgpIHtcbiAgICAgICAgdGhpcy5leHByZXNzLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICAgICAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpO1xuICAgICAgICAgICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIiwgXCJYLVJlcXVlc3RlZC1XaXRoLGNvbnRlbnQtdHlwZVwiKTtcbiAgICAgICAgICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBPUFRJT05TLCBQVVQsIFBBVENILCBERUxFVEVcIik7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cHJlc3MudXNlKGxvZ2dlcihcImRldlwiKSk7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuICAgICAgICB0aGlzLmV4cHJlc3MudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbiAgICB9XG4gICAgcm91dGVzKCkge1xuICAgICAgICBsZXQgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbiAgICAgICAgcm91dGVyLnBvc3QoXCIvbG9naW5cIiwgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvb2xcbiAgICAgICAgICAgICAgICAuZ2V0Q29ubmVjdGlvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oY29ubiA9PiB7XG4gICAgICAgICAgICAgICAgY29ublxuICAgICAgICAgICAgICAgICAgICAucXVlcnkoXCJTRUxFQ1QgKiBGUk9NIExPR0lOLmxvZ2luIFdIRVJFIHVzZXJuYW1lPT9cIiwgW1xuICAgICAgICAgICAgICAgICAgICByZXEuYm9keS51c2VybmFtZVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhblJvd3MgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YS5zbGljZSgwLCAtMSkgOiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjbGVhblJvd3MsIFwiZGF0YVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhdHVzKDQwMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6IFwiUGxlYXNlIHNpZ251cCwgbm8gZW1haWwgZXhpc3RzXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFzc3dvcmRoYXNoLnZlcmlmeShyZXEuYm9keS5wYXNzd29yZCwgZGF0YVswXVsncGFzc3dvcmQnXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNFQ1JFVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7IGRhdGE6IGRhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNlc3NmdWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IGp3dC5zaWduKGRhdGEsIFwiU0VDUkVUXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhdHVzKDQwMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6IFwiUGFzc3dvcmQvRW1haWwgZGlkIG5vdCBtYXRjaFwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcm91dGVyLnBvc3QoXCIvY3JlYXRlVXNlclwiLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmV3ZGF0YSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5wb29sXG4gICAgICAgICAgICAgICAgLmdldENvbm5lY3Rpb24oKVxuICAgICAgICAgICAgICAgIC50aGVuKGNvbm4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbm5cbiAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5KFwiaW5zZXJ0IGludG8gTE9HSU4ubG9naW4gKGxhc3RfbmFtZSwgZmlyc3RfbmFtZSwgZW1haWxfYWRkcmVzcywgcGFzc3dvcmQsIHVzZXJuYW1lKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmJvZHkubGFzdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICByZXEuYm9keS5maXJzdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICByZXEuYm9keS5lbWFpbF9hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZGhhc2guZ2VuZXJhdGUocmVxLmJvZHkucGFzc3dvcmQpLFxuICAgICAgICAgICAgICAgICAgICByZXEuYm9keS51c2VybmFtZSxcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJzdWNlc3NmdWxcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnIgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVyciB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvdXRlci5nZXQoXCIvaGVhbHRoelwiLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgICAgIHJlcy5zZW5kKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoXCIvXCIsIHJvdXRlcik7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gbmV3IEFwcCgpLmV4cHJlc3M7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBBcHBfMSA9IHJlcXVpcmUoXCIuL0FwcFwiKTtcbmRlYnVnKCd0cy1leHByZXNzOnNlcnZlcicpO1xuY29uc3QgcG9ydCA9IG5vcm1hbGl6ZVBvcnQoMzAwNCk7XG5BcHBfMS5kZWZhdWx0LnNldCgncG9ydCcsIHBvcnQpO1xuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoQXBwXzEuZGVmYXVsdCk7XG5zZXJ2ZXIubGlzdGVuKHBvcnQpO1xuc2VydmVyLm9uKCdlcnJvcicsIG9uRXJyb3IpO1xuc2VydmVyLm9uKCdsaXN0ZW5pbmcnLCBvbkxpc3RlbmluZyk7XG5mdW5jdGlvbiBub3JtYWxpemVQb3J0KHZhbCkge1xuICAgIGxldCBwb3J0ID0gKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSA/IHBhcnNlSW50KHZhbCwgMTApIDogdmFsO1xuICAgIGlmIChpc05hTihwb3J0KSlcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICBlbHNlIGlmIChwb3J0ID49IDApXG4gICAgICAgIHJldHVybiBwb3J0O1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvci5zeXNjYWxsICE9PSAnbGlzdGVuJylcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgbGV0IGJpbmQgPSAodHlwZW9mIHBvcnQgPT09ICdzdHJpbmcnKSA/ICdQaXBlICcgKyBwb3J0IDogJ1BvcnQgJyArIHBvcnQ7XG4gICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgIGNhc2UgJ0VBQ0NFUyc6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke2JpbmR9IHJlcXVpcmVzIGVsZXZhdGVkIHByaXZpbGVnZXNgKTtcbiAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFQUREUklOVVNFJzpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7YmluZH0gaXMgYWxyZWFkeSBpbiB1c2VgKTtcbiAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuZnVuY3Rpb24gb25MaXN0ZW5pbmcoKSB7XG4gICAgbGV0IGFkZHIgPSBzZXJ2ZXIuYWRkcmVzcygpO1xuICAgIGxldCBiaW5kID0gKHR5cGVvZiBhZGRyID09PSAnc3RyaW5nJykgPyBgcGlwZSAke2FkZHJ9YCA6IGBwb3J0ICR7YWRkci5wb3J0fWA7XG4gICAgZGVidWcoYExpc3RlbmluZyBvbiAke2JpbmR9YCk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcG9seWZpbGxcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==